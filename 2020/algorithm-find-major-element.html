<!DOCTYPE html><html> <head><title>Algorithm Find major element</title><meta charset=utf-8><link rel=stylesheet href=/theme/css/main.css></head> <body> <h1>Algorithm Find major element</h1> 2020-10-19 23:11 <hr> <h1>0. abstract</h1> <p>Let A[1...n] be an integer sequence, then a is called <code>major element</code> if integer a in A appears more than n/2 rounded down.</p> <h1>1. analysis</h1> <blockquote> <p>notice that after removing two different elements in the original sequence, a major element in the old sequence is still a major element in the new sequence.</p> </blockquote> <p>Set the counter to 1, and let <code>c</code> = A[1]. Scan the elements starting from A[2] element-wise, if the scanned element is equal to <code>c</code>, the counter adds 1, otherwise the counter minus 1. If all the elements are scanned and the counter greater than 0, then return <code>c</code> as a candidate of a major element. If the counter is 0 when <code>c</code> is compared with a[j] (1 &lt; j &lt; n), then call the candidate process recursively in A[j+1...n].</p> <p>If the candidate <code>c</code> is greater than n/2 rounded down, it becomes major element.</p> <h1>2. code implementation</h1> <p>Store the sequence to file.txt</p> <p>$ cat file.txt &gt; 1 3 2 3 3 4 3</p> <div class=highlight><pre><span></span><code><span class=cp>#include</span><span class=w> </span><span class=cpf>&lt;stdio.h&gt;</span>
<span class=cp>#define column 7 </span><span class=c1>// length of the sequence file</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kt>int</span><span class=w> </span><span class=nf>candidate</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>m</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>A</span><span class=p>[]){</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>],</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>j</span><span class=o>&lt;</span><span class=n>column</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>count</span><span class=o>&gt;</span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>;</span>
<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>]</span><span class=o>==</span><span class=n>c</span><span class=p>)</span>
<span class=w>            </span><span class=n>count</span><span class=o>++</span><span class=p>;</span>
<span class=w>        </span><span class=k>else</span>
<span class=w>            </span><span class=n>count</span><span class=o>--</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>j</span><span class=o>==</span><span class=n>column</span><span class=p>)</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>c</span><span class=p>;</span>
<span class=w>    </span><span class=k>else</span>
<span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>candidate</span><span class=p>(</span><span class=n>j</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>A</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kt>int</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>argc</span><span class=p>,</span><span class=w> </span><span class=kt>char</span><span class=w> </span><span class=o>*</span><span class=n>argv</span><span class=p>[])</span>
<span class=p>{</span>
<span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=p>,</span><span class=w> </span><span class=n>j</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>[</span><span class=n>column</span><span class=p>];</span>

<span class=w>    </span><span class=cm>/*</span>
<span class=cm>     * read the data stored in file.txt</span>
<span class=cm>     * store the data in array data[column]</span>
<span class=cm>     */</span>
<span class=w>    </span><span class=kt>FILE</span><span class=w> </span><span class=o>*</span><span class=n>fp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>fopen</span><span class=p>(</span><span class=s>&quot;./file.txt&quot;</span><span class=p>,</span><span class=s>&quot;r&quot;</span><span class=p>);</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>column</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=n>fscanf</span><span class=p>(</span><span class=n>fp</span><span class=p>,</span><span class=w> </span><span class=s>&quot;%d &quot;</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>data</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>candidate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>data</span><span class=p>);</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>column</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=k>if</span><span class=p>(</span><span class=n>data</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>c</span><span class=p>)</span><span class=w> </span><span class=n>count</span><span class=w> </span><span class=o>++</span><span class=p>;</span>
<span class=w>    </span><span class=p>}</span>

<span class=w>    </span><span class=k>if</span><span class=p>(</span><span class=n>count</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=p>)(</span><span class=n>column</span><span class=o>/</span><span class=mi>2</span><span class=p>))</span>
<span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%d</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=p>);</span>
<span class=w>    </span><span class=k>else</span>
<span class=w>        </span><span class=n>printf</span><span class=p>(</span><span class=s>&quot;%s</span><span class=se>\n</span><span class=s>&quot;</span><span class=p>,</span><span class=w> </span><span class=s>&quot;no major element&quot;</span><span class=p>);</span>

<span class=w>    </span><span class=k>return</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <h1>Algorithm result</h1> <p>$ ./major_element # 1 3 2 3 3 4 3 &gt; 3</p> </body> </html>