<!doctype html><title>
定位手册 - 理论，实践与进阶
    </title><meta charset=utf-8><meta content=width=device-width initial-scale=1 name=viewport><link href=/theme/css/main.css rel=stylesheet><body><h1>定位手册 - 理论，实践与进阶</h1> 2023-05-21 17:18 <hr><div class="contents topic" id=topic-1><p class=topic-title><a class="reference internal" href=#top>目录</a><ul class=simple><li><a class="reference internal" href=#section-2 id=toc-entry-1>1. 无线定位系统：操作，应用与实践</a><ul><li><a class="reference internal" href=#introduction id=toc-entry-2>1.1. introduction</a><li><a class="reference internal" href=#basic-methods id=toc-entry-3>1.2. basic methods</a><ul><li><a class="reference internal" href=#toa id=toc-entry-4>1.2.1. TOA</a><li><a class="reference internal" href=#tdoa id=toc-entry-5>1.2.2. TDOA</a><li><a class="reference internal" href=#doa id=toc-entry-6>1.2.3. DOA</a><li><a class="reference internal" href=#rssi id=toc-entry-7>1.2.4. RSSI</a><li><a class="reference internal" href=#los-versus-nlos id=toc-entry-8>1.2.5. LOS.versus.NLOS</a><li><a class="reference internal" href=#positioning-mobility-and-tracking id=toc-entry-9>1.2.6. positioning, mobility, and tracking</a><li><a class="reference internal" href=#network-localization id=toc-entry-10>1.2.7. network localization.网络定位</a></ul><li><a class="reference internal" href=#section-3 id=toc-entry-11>1.3. 定位系统概览</a><ul><li><a class="reference internal" href=#gps id=toc-entry-12>1.3.1. GPS</a><li><a class="reference internal" href=#assisted-gps id=toc-entry-13>1.3.2. Assisted GPS</a><li><a class="reference internal" href=#ins id=toc-entry-14>1.3.3. INS</a><li><a class="reference internal" href=#integrated-ins-and-gps id=toc-entry-15>1.3.4. Integrated INS and GPS</a><li><a class="reference internal" href=#rfid id=toc-entry-16>1.3.5. RFID</a><li><a class="reference internal" href=#wlps id=toc-entry-17>1.3.6. WLPS</a><li><a class="reference internal" href=#tcas id=toc-entry-18>1.3.7. TCAS</a><li><a class="reference internal" href=#wlan id=toc-entry-19>1.3.8. WLAN</a><li><a class="reference internal" href=#vision-positioning-system id=toc-entry-20>1.3.9. vision positioning system</a><li><a class="reference internal" href=#radar id=toc-entry-21>1.3.10. radar</a></ul><li><a class="reference internal" href=#comparison id=toc-entry-22>1.4. Comparison</a><li><a class="reference internal" href=#section-4 id=toc-entry-23>1.5. 总结与展望</a></ul><li><a class="reference internal" href=#section-5 id=toc-entry-24>2. 源定位：算法与分析</a><ul><li><a class="reference internal" href=#introduction-1 id=toc-entry-25>2.1. Introduction</a><li><a class="reference internal" href=#section-6 id=toc-entry-26>2.2. 源定位的度量模型与原理</a><ul><li><a class="reference internal" href=#toa-1 id=toc-entry-27>2.2.1. TOA</a><li><a class="reference internal" href=#tdoa-1 id=toc-entry-28>2.2.2. TDOA</a></ul></ul></ul></div><div class=section id=section-2><h2><a class=toc-backref href=#toc-entry-1>1. 无线定位系统：操作，应用与实践</a></h2><div class=section id=introduction><h3><a class=toc-backref href=#toc-entry-2>1.1. introduction</a></h3><blockquote><ul class=simple><li>Global Positioning System -- on the globe<li>Local Positioning System -- relative<ul><li>Self-positioning System -- with respect to a static point<li>Remote-positioning System -- relative position of other nodes<ul><li>Active remote positioning system -- target cooperates in positioning<li>Passive remote positioning system -- target is passive and noncooperative</ul></ul></ul></blockquote></div><div class=section id=basic-methods><h3><a class=toc-backref href=#toc-entry-3>1.2. basic methods</a></h3><div class=section id=toa><h4><a class=toc-backref href=#toc-entry-4>1.2.1. TOA</a></h4><ul class=simple><li>所有基站与终端时间同步，小误差导致大失误<li>信号包含时间戳，提高了信号复杂度<li>基站位置已知，静态节点或者配有 gps 的动态节点</ul></div><div class=section id=tdoa><h4><a class=toc-backref href=#toc-entry-5>1.2.2. TDOA</a></h4><ul class=simple><li>所有基站时间同步即可（终端的石英钟往往不如基站的原子钟准确）<li>信号不需要包含时间戳，因为只需要到达时间作差</ul></div><div class=section id=doa><h4><a class=toc-backref href=#toc-entry-6>1.2.3. DOA</a></h4></div><div class=section id=rssi><h4><a class=toc-backref href=#toc-entry-7>1.2.4. RSSI</a></h4><p>RSSI, Received Signal Strength</div><div class=section id=los-versus-nlos><h4><a class=toc-backref href=#toc-entry-8>1.2.5. LOS.versus.NLOS</a></h4><p>TOA, TDOA, DOA 对 LOS 更加敏感。而 RSSI 受 LOS 影响较小，因为 能量-距离 关系中， NLOS 导致的 shadowing(random) effect 可用滤波消减。因此许多 NLOS 识别、消除与 定位技术应运而生<dl class=docutils><dt>shadowing effect<dd><p class=first>received signal power fluctuates due to objects obstructing the propagation path</p> <p class=last>由于传播路径上的物体遮挡，传输信号强度发生波动</p></dl></div><div class=section id=positioning-mobility-and-tracking><h4><a class=toc-backref href=#toc-entry-9>1.2.6. positioning, mobility, and tracking</a></h4><p>parameter estimation techniques.<p>例如，在 LOS/NLOS 混合环境中，往往用到卡尔曼、贝叶斯或者粒子滤波。</div><div class=section id=network-localization><h4><a class=toc-backref href=#toc-entry-10>1.2.7. network localization.网络定位</a></h4><p>必要的基础设施：卫星、基站、WLAN AP<p>少量已知的 <em>anchor</em> 或者 <em>reference</em> 节点，以及剩下的 <em>unlocalized</em> 未知节点。 未知节点不能与已知节点通信，会互相通信估算位置。<ul class=simple><li>collaborative position location<li>cooperative localization<li>network localization</ul></div></div><div class=section id=section-3><h3><a class=toc-backref href=#toc-entry-11>1.3. 定位系统概览</a></h3><div class=section id=gps><h4><a class=toc-backref href=#toc-entry-12>1.3.1. GPS</a></h4><p>27 = 24 + 3 (in case)<p>complete 2 rotations each 24 hours.<p>任何时间，任何地点，至少四颗，清晰可见！<dl class=docutils><dt><strong>距离测量</strong><dd><p class=first>考虑到终端机与卫星 <strong>完美同步</strong> (精确到纳秒级)，二者同时发出 long unique pattern ( pseudo random code )，根据二者信号的延迟判断距离。</p> <p>受制于成本问题，厂家往往只会在终端机里面用石英钟，无法纳秒级精确，所以额外一步。</p> <dl class=docutils><dt><em>syncrhonization</em><dd><p class=first>第四颗卫星用来测量终端机误差。</p> <p class=last>The difference between the distance of the estimated receiver position from the fourth satellite and the pseudorange of the fourth satellite (the radius of the fourth satellite or the distance to the fourth satellite as measured by the GPS receiver) is used to calculate the error.</p></dl> <p>另外，卫星的原子钟也周期性矫正，确保 <em>relativistic effect</em> 被消除， 以及与陆地时钟同步。</p> <p>relativistic effect 基于可由相对论解释的两个现象：</p> <ol class="arabic simple"><li>弱重力场的时钟 tick faster<li>移动的时钟 tick slower</ol> <p class=last>因此，因为弱重力场，卫星时钟相对地面时钟转地更快，又因高速运动转地更慢。 即使理论上两种效应 cancel out，最终的 net effect 是相比于地面时钟 tick faster</p><dt><strong>卫星位置</strong><dd><p class=first>终端机可存储 almanac，据此获得任何时间每个卫星的位置。</p> <p class=last>日月重力的牵引效果被美国国防部持续观测，并将调整信息作为信号的一部分发到终端机</p></dl></div><div class=section id=assisted-gps><h4><a class=toc-backref href=#toc-entry-13>1.3.2. Assisted GPS</a></h4><p>todo<p>GPS 的问题：Time To First Fix, TTFF 或 cold start 花费时间太久<p>首次开机后需要很长时间获取信号、交互数据并定位</div><div class=section id=ins><h4><a class=toc-backref href=#toc-entry-14>1.3.3. INS</a></h4><p>todo<p>误差在积分过程中的传播被称为 <em>integration drift</em> ，</div><div class=section id=integrated-ins-and-gps><h4><a class=toc-backref href=#toc-entry-15>1.3.4. Integrated INS and GPS</a></h4><p>INS 可填补两个 GPS 计算定位的空隙，也可用于 obscuration caused by maneuvering<p>GPS 可矫正 INS 的传播误差</div><div class=section id=rfid><h4><a class=toc-backref href=#toc-entry-16>1.3.5. RFID</a></h4><p>RFID 是一个识别附着在物体上标签的无线系统，其包含一个 reader 和 RFID 标签。<p>根据标签种类可分为两类<ul class=simple><li>passive tags. 不含电源，适合短距离。配有被特定频率的信号激活的天线阵列。<li>active RFID system. 收发系统，tag = transponder + power source. RFID reader 发送电磁波，tag in its vicinity 接收. tag modulate 电磁波，增加识别信息并发回。reader 将变频电磁波转为数字信号，</ul><dl class=docutils><dt><strong>RFID as a Positioning System</strong><dd><p class=first>Received Signal Strength Indicator</p> <p>location identification based on dynamic active RFID calibration</p> <blockquote class=last>fixed tags serve as reference points</blockquote></dl></div><div class=section id=wlps><h4><a class=toc-backref href=#toc-entry-17>1.3.6. WLPS</a></h4><p>hybrid TOA and DOA<ul class=simple><li>monitoring mobile unit (or Dynamic Base Station, DBS)<li>target mobile unit ( or Active Target, or Transceiver, TRX)</ul><p>DOA 用的是 DBS 上的天线阵列</div><div class=section id=tcas><h4><a class=toc-backref href=#toc-entry-18>1.3.7. TCAS</a></h4><p>检测并跟踪飞行器，附近有半空碰撞风险时警告飞行员。</div><div class=section id=wlan><h4><a class=toc-backref href=#toc-entry-19>1.3.8. WLAN</a></h4><p>trilateration using RSSI technique<p>Network Interface Card, NIC</div><div class=section id=vision-positioning-system><h4><a class=toc-backref href=#toc-entry-20>1.3.9. vision positioning system</a></h4><p>todo</div><div class=section id=radar><h4><a class=toc-backref href=#toc-entry-21>1.3.10. radar</a></h4><p>RAdio Detection And Ranging, RADAR</div></div><div class=section id=comparison><h3><a class=toc-backref href=#toc-entry-22>1.4. Comparison</a></h3><table border=1 class=docutils><colgroup><col width=25%><col width=25%><col width=25%><col width=25%></colgroup><tbody valign=top><tr><td> <td>Accuracy<td>LOS/NLOS<td>No. of BS<tr><td>TOA<td>Medium<td>LOS<td>>=3<tr><td>TDOA<td>Medium<td>LOS<td>>=3<tr><td>DOA<td>Low<td>LOS<td>>=2<tr><td>RSSI<td>H to M<td>Both<td>>=3</table></div><div class=section id=section-4><h3><a class=toc-backref href=#toc-entry-23>1.5. 总结与展望</a></h3></div></div><div class=section id=section-5><h2><a class=toc-backref href=#toc-entry-24>2. 源定位：算法与分析</a></h2><p>Assuming that the disturbances in the measurements are zero-mean Gaussian distributed, the Cramér–Rao lower bound (CRLB), which gives a lower bound on the variance attainable by any unbiased location estimator using the same data, will also be provided.<p>假定测量中的干扰是零均值高斯分布，还将提供 Cramer-Rao 下限 (CRLB)， 其给出了使用相同数据的任何无偏位置估计器可达到的方差的下限。<p>看完这章的学习成果：<p>1). 用到 TOA, TDOA, RSS 和 DOA 测量的定位算法的发展<p>2). 位置估计的性能测量<div class=section id=introduction-1><h3><a class=toc-backref href=#toc-entry-25>2.1. Introduction</a></h3><p>The position of a target of interest can be determined by utilizing its emitted signal measured at an array of spatially separated receivers with a priori known locations.<dl class=docutils><dt><strong>assume there are no outliers</strong><dd>shadowing and multipath propagation errors are sufficiently small<dt><strong>assume LOS transmission</strong><dd>NLOS 会造成距离信息中较大的正偏差</dl></div><div class=section id=section-6><h3><a class=toc-backref href=#toc-entry-26>2.2. 源定位的度量模型与原理</a></h3><div class=math>\begin{equation*} \textbf{r} = \textbf{f}(\textbf{x}) + \textbf{n} \end{equation*}</div><p>where <span class=math>\(\textbf{r}\)</span> 是测量值向量，<span class=math>\(\textbf{x}\)</span> 是待定位的坐标， <span class=math>\(\textbf{f}\)</span> 是已知的非线性函数，<span class=math>\(\textbf{n}\)</span> 是 0 均值的噪声向量。<div class=section id=toa-1><h4><a class=toc-backref href=#toc-entry-27>2.2.1. TOA</a></h4><p>三个或更多基站时，把有噪的 TOA 转化为方程组，再根据已知基站 <strong>最优化</strong> 定位更好<p>令 <span class=math>\(\textbf{x} = [x \space{} y]^T\)</span> 为未知终端， <span class=math>\(\textbf{x}_l = [x_l \space{} x_l]^T\)</span> 为已知基站，则终端与第l个基站之间的距离 <span class=math>\(d_l\)</span> 就是<div class=math>\begin{equation*} d_l = \| \textbf{x} - \textbf{x}_l \|_2 = \sqrt{(x-x_l)^2+(y-y_l)^2} \end{equation*}</div><p>设 <span class=math>\(t_l\)</span> 为信号从基站 <em>l</em> 到达终端机的传播时间，则显然<div class=math>\begin{equation*} t_l = \frac{d_l}{c} \end{equation*}</div><p>现实生活中，TOA 不可避免地存在误差，所以由 <span class=math>\(t_l\)</span> 和 <em>c</em> 相乘表示的距离与实际测量值的关系可以表示为<div class=math>\begin{equation*} r_{TOA,l} = d_l + n_{TOA,l} = \sqrt{(x-x_l)^2+(y-y_l)^2} + n_{TOA,l} \end{equation*}</div><p>上式可表达为向量形式<div class=math>\begin{equation*} \textbf{r}_{TOA} = \textbf{f}_{TOA}(\textbf{x}) + \textbf{n}_{TOA} \end{equation*}</div><p>为了便于算法的开发分析以及 CRLB 的计算， <span class=math>\({n_{TOA,l}}\)</span> 是零均值非相关的高斯过程。</div><div class=section id=tdoa-1><h4><a class=toc-backref href=#toc-entry-28>2.2.2. TDOA</a></h4><p>TDOA 是信号到达一对传感器的时间之差，而且 TDOA 不需要接收机的时钟和他们一起同步。将 TDOA 与传播速度 c 相乘得到接收机与两个基站的范围之差。每个 TDOA 定义了一个接收机位于其上的双曲线，而目标位置就在至少两条双曲线的交点上。</div></div></div><script>if(!document.getElementById(`mathjaxscript_pelican_#%@#\$@#`)){let j=`});`,b=768,g=`VARIANT['bold'].fonts.unshift('MathJax_default-bold');`,h=`VARIANT['italic'].fonts.unshift('MathJax_default-italic');`,i=`VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');`,l=0,k=`head`,c=`script`,f=`VARIANT['normal'].fonts.unshift('MathJax_default');`,e=`    }, `,d=`',`,a=`0em`;var align=`center`,indent=a,linebreak=`false`;if(!1){align=screen.width<b?`left`:align;indent=screen.width<b?a:indent;linebreak=screen.width<b?`true`:linebreak};var mathjaxscript=document.createElement(c);mathjaxscript.id=`mathjaxscript_pelican_#%@#\$@#`;mathjaxscript.type=`text/javascript`;mathjaxscript.src=`https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML`;var configscript=document.createElement(c);configscript.type=`text/x-mathjax-config`;configscript[window.opera?`innerHTML`:`text`]=`MathJax.Hub.Config({`+ `    config: ['MMLorHTML.js'],`+ `    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } },`+ `    jax: ['input/TeX','input/MathML','output/HTML-CSS'],`+ `    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],`+ `    displayAlign: '`+ align+ d+ `    displayIndent: '`+ indent+ d+ `    showMathMenu: true,`+ `    messageStyle: 'normal',`+ `    tex2jax: { `+ `        inlineMath: [ ['\\\\\\\\(','\\\\\\\\)'] ], `+ `        displayMath: [ ['\$\$','\$\$'] ],`+ `        processEscapes: true,`+ `        preview: 'TeX',`+ e+ `    'HTML-CSS': { `+ `        availableFonts: ['STIX', 'TeX'],`+ `        preferredFont: 'STIX',`+ `        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} },`+ `        linebreaks: { automatic: `+ linebreak+ `, width: '90% container' },`+ e+ `}); `+ `if ('default' !== 'default') {`+ `MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {`+ `var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;`+ f+ g+ h+ i+ j+ `MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {`+ `var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;`+ f+ g+ h+ i+ j+ `}`;(document.body||document.getElementsByTagName(k)[l]).appendChild(configscript);(document.body||document.getElementsByTagName(k)[l]).appendChild(mathjaxscript)}</script>